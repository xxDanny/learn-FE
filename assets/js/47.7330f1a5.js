(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{1140:function(t,s,a){"use strict";a.r(s);var e=a(3),r=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"使用代码切换路由"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用代码切换路由"}},[t._v("#")]),t._v(" 使用代码切换路由")]),t._v(" "),s("p",[t._v("除了在模板中利用"),s("strong",[t._v("路由链接组件")]),t._v("来触发路由请求，也可以调用"),s("strong",[t._v("路由器实例")]),t._v("的以下方法，实现程序化导航")]),t._v(" "),s("h2",{attrs:{id:"push"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#push"}},[t._v("#")]),t._v(" push()")]),t._v(" "),s("p",[t._v("调用路由器实例的 "),s("code",[t._v("push()")]),t._v(" 方法来请求一个新的路由，并在成功匹配后向"),s("strong",[t._v("历史访问栈")]),t._v("压入当前路径信息：")]),t._v(" "),s("p",[s("img",{attrs:{src:a(667),alt:""}})]),t._v(" "),s("p",[s("strong",[t._v("push()")]),t._v(" 方法的参数可以是一个目标路径，例如 "),s("code",[t._v("this.$router.push('/blog')")]),t._v(" ，也可以 是一个"),s("strong",[t._v("定位对象")]),t._v("，例如： "),s("code",[t._v("this.$router.push({name:'blog'})")]),t._v(" 。")]),t._v(" "),s("h2",{attrs:{id:"replace"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#replace"}},[t._v("#")]),t._v(" replace()")]),t._v(" "),s("p",[t._v("replace() 方法也用来请求一个新的路由，不过它和 "),s("code",[t._v("push()")]),t._v(" 的区别在于，在成功匹配路由后， "),s("code",[t._v("replace()")]),t._v(" 方法将使用这个新的路由信息替换历史访问栈的当前位置信息：")]),t._v(" "),s("p",[s("img",{attrs:{src:a(668),alt:""}})]),t._v(" "),s("p",[t._v("和 push 一样， "),s("code",[t._v("replace()")]),t._v(" 方法的参数可以是一个目标路径，例如 "),s("code",[t._v("this.$router.replace('/blog')")]),t._v(" ， 也可以是一个指向命名路由的对象，例如： "),s("code",[t._v("this.$router.replace({name:'blog', params:{idx:'1'}})")]),t._v(" 。")]),t._v(" "),s("h2",{attrs:{id:"go"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#go"}},[t._v("#")]),t._v(" go()")]),t._v(" "),s("p",[t._v("go() 方法根据指定的偏移量在访问历史栈中重新定位：")]),t._v(" "),s("p",[s("img",{attrs:{src:a(669),alt:""}})]),t._v(" "),s("p",[t._v("偏移量是一个整数，正整数表示向前（栈增长的方向）移动，负整数表示向后移动。例如 "),s("code",[t._v("this.$router.go(-1)")]),t._v(" 表示从当前位置退回前一个路由， "),s("code",[t._v("this.$router.go(1)")]),t._v(" 表示从当前位置前进一个路由。")]),t._v(" "),s("p",[t._v("容易理解，路由器提供的另外两个方法 "),s("code",[t._v("forward()")]),t._v(" 和 "),s("code",[t._v("back()")]),t._v(" ，分别是对 "),s("code",[t._v("go(1)")]),t._v(" 和 "),s("code",[t._v("go(-1)")]),t._v(" 的简单封装。")]),t._v(" "),s("p",[t._v("go() 方法只是改变历史访问栈的当前访问定位（影响 replace() 方法的结果），并不会 改变栈的内容。")]),t._v(" "),s("h2",{attrs:{id:"查看历史访问栈"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看历史访问栈"}},[t._v("#")]),t._v(" 查看历史访问栈")]),t._v(" "),s("p",[t._v("VueRouter 内置了三种历史访问栈的实现： "),s("code",[t._v("abstract")]),t._v(" 、 "),s("code",[t._v("hash")]),t._v(" 和 "),s("code",[t._v("history")]),t._v(" ，默认情况下启用的是 "),s("code",[t._v("hash")]),t._v(" 访问栈。遗憾的是，后两种访问栈都是基于浏览器的 "),s("code",[t._v("history")]),t._v(" 开发接口 实现，而 "),s("code",[t._v("history")]),t._v(" 没有提供查看栈内容的接口 😦")]),t._v(" "),s("p",[t._v("好在三种访问栈的运行机制在 "),s("code",[t._v("VueRouter")]),t._v(" 层面是一样的，我们可以利用 "),s("code",[t._v("VueRouter")]),t._v(" 的实例化 配置项 "),s("code",[t._v("mode")]),t._v(" 来启用 "),s("code",[t._v("abstract")]),t._v(" 访问栈，通过查看其访问栈（通过 "),s("code",[t._v("$router.history.stack")]),t._v(" 访问） 的内容，来理解路由器的这些方法对历史访问栈的操作。")]),t._v(" "),s("p",[t._v("例如：")]),t._v(" "),s("div",{staticClass:"language-JS line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" router "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("VueRouter")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("routes")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("mode")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'abstract'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//启用 abstract 访问栈")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Vue")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("router")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" router"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("template")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("<div>{{$router.history.stack}}</div>")]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])])])}),[],!1,null,null,null);s.default=r.exports},667:function(t,s,a){t.exports=a.p+"assets/img/12.e039ec38.png"},668:function(t,s,a){t.exports=a.p+"assets/img/13.da9bbe98.png"},669:function(t,s,a){t.exports=a.p+"assets/img/14.0db71083.png"}}]);