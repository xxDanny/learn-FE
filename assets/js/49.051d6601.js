(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{1175:function(t,s,a){"use strict";a.r(s);var v=a(3),_=Object(v.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"实际工作经验"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#实际工作经验"}},[t._v("#")]),t._v(" 实际工作经验")]),t._v(" "),s("h2",{attrs:{id:"h5-如何首屏优化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#h5-如何首屏优化"}},[t._v("#")]),t._v(" H5 如何首屏优化？")]),t._v(" "),s("ul",[s("li",[s("ol",[s("li",[t._v("路由懒加载")])]),t._v(" "),s("ul",[s("li",[t._v("用于 spa （不适合于 mpa）")]),t._v(" "),s("li",[t._v("路由拆分，优先保证首屏加载")])])]),t._v(" "),s("li",[s("ol",{attrs:{start:"2"}},[s("li",[t._v("服务端渲染 ssr")])]),t._v(" "),s("ul",[s("li",[t._v("传统前后端分离 SPA 渲染页面\b的过程很复杂：第一步从服务器获取 html 加载 js，第二部运行 js，得知需要再运用 ajax 向服务器请求一些数。第三部渲染页面。需要三步，然而 ssr 只需要一步骤。")]),t._v(" "),s("li",[t._v("ssr 渲染页面过程很简单")])])])]),t._v(" "),s("p",[t._v("ssr 是第一代 web 技术，比如 PHP，ASP，JSP，并不是什么新技术。后面前端技术不断发展，大家都开始使用前后端分离来开发网站，但是逐渐又出现了性能问题。大家有想起了 ssr，但是这个时候，大家已经采用了 vue，react 等前端框架，再用 PHP，JSP 又不兼容了 ，所以大家又开始造轮子开发出了 nuxt.js 和 next.js")]),t._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[t._v("APP 预取")])]),t._v(" "),s("p",[t._v("如果 H5 在 APP Webview 中展示，可以使用 app 预取。用户访问列表时，App 预加载文章首屏内容")]),t._v(" "),s("p",[t._v("用户进入 H5 页，直接从 App 中获取内容，瞬间展示首屏")]),t._v(" "),s("p",[t._v("app 里面有一个 webview 这样我们将能够访问 H5 页面。")]),t._v(" "),s("ol",{attrs:{start:"4"}},[s("li",[s("p",[t._v("分页\n针对列表页，默认只展示第一页")])]),t._v(" "),s("li",[s("p",[t._v("图片懒加载\n注意：提前设置好图片尺寸，尽量直重绘不重排")])]),t._v(" "),s("li",[s("p",[t._v("hybrid\n提前将 html css js 下载到 app 内部。在 app web view 中使用 file：//协议加载页面文件。\n省去了从网络下载 html/js 的时间")])])]),t._v(" "),s("p",[t._v("性能优化要配合分析优化统计和评分，做事情要有结果。把网页打开时间从 1s 优化到了 0.5s\n性能优化也要配合体验：比如骨架屏，loading 动画等")]),t._v(" "),s("h2",{attrs:{id:"后端一次性返回-10w-条数据。"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#后端一次性返回-10w-条数据。"}},[t._v("#")]),t._v(" 后端一次性返回 10w 条数据。")]),t._v(" "),s("ol",[s("li",[t._v("首先这个设计不合理。第一数据加载需要很多时间，页面的渲这些数据也需要很长的时间。我们可以分页返回。")]),t._v(" "),s("li",[t._v("首先我们思考一下浏览器是否能处理 10w+数据。js 处理是没有问题的，但是 dom 渲染会非常卡顿")])]),t._v(" "),s("p",[t._v("解决方案：自定义中间层")]),t._v(" "),s("ol",[s("li",[t._v("自定义 nodejs 中间层，获取并拆分这 10w+数据。前端对接 nodejs 中间层，成本高")]),t._v(" "),s("li",[t._v("前端解决：虚拟列表。可以借用第三方 lib\n"),s("ul",[s("li",[t._v("只渲染可视区域内的 DOM。其他隐藏区域不显示，只用 div 撑起\b高度，随时创建销毁 dom\n"),s("img",{attrs:{src:a(835),alt:""}})]),t._v(" "),s("li",[t._v("vue-virual-scroll-list")])])])]),t._v(" "),s("h2",{attrs:{id:"前端常用设计模式-使用场景"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前端常用设计模式-使用场景"}},[t._v("#")]),t._v(" 前端常用设计模式？使用场景？")]),t._v(" "),s("p",[t._v("在说设计模式之前，我们要先说说设计原则。需求指导设计，设计指导开发")]),t._v(" "),s("p",[t._v("最重要的原则：开放封闭元素")]),t._v(" "),s("p",[t._v("对拓展开放。\n对修改封闭封闭。")]),t._v(" "),s("ol",[s("li",[t._v("工厂模式，用工厂函数创建实例，隐藏 new")])]),t._v(" "),s("p",[t._v("比如  jquery $函数")]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[t._v("单例模式")])]),t._v(" "),s("p",[t._v("产生唯一实例：比如 vuex  的 store")]),t._v(" "),s("p",[s("img",{attrs:{src:a(836),alt:""}})]),t._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[t._v("代理模式")])]),t._v(" "),s("p",[t._v("使用者不能直接访问一个对象，而是访问一个代理层")]),t._v(" "),s("p",[t._v("vue3 响应式使用 proxy 实现响应式")]),t._v(" "),s("ol",{attrs:{start:"4"}},[s("li",[t._v("观察者模式")])]),t._v(" "),s("p",[t._v("一个主题，一个观察者，主题变化之后触发观察者执行")]),t._v(" "),s("p",[t._v("btn.addEvent('click', ..)")]),t._v(" "),s("ol",{attrs:{start:"5"}},[s("li",[t._v("发布订阅模式")])]),t._v(" "),s("p",[t._v("自定义事件，在 vue 组件通讯非常常见")]),t._v(" "),s("div",{staticClass:"language-JS line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("event"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'event-key'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nevent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("emit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'event-key'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("ol",{attrs:{start:"6"}},[s("li",[t._v("装饰器模式")])]),t._v(" "),s("p",[t._v("原功能不变，增加一些新功能（AOP）")]),t._v(" "),s("p",[t._v("es6 和 typescript 的 decorator 语法\n类装饰器，方法装饰器")]),t._v(" "),s("h2",{attrs:{id:"观察者模式和发布订阅者模式区别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#观察者模式和发布订阅者模式区别"}},[t._v("#")]),t._v(" 观察者模式和发布订阅者模式区别")]),t._v(" "),s("p",[s("img",{attrs:{src:a(837),alt:""}})]),t._v(" "),s("p",[t._v("观察者模式是 subject 和 observer 直接绑定")]),t._v(" "),s("p",[t._v("比如按钮绑定事件")]),t._v(" "),s("p",[t._v("发布订阅者模式 publisher 和 observer 互相不认识，需要中间媒介 event channel")]),t._v(" "),s("p",[t._v("比如 evnetbus 自定义事件")]),t._v(" "),s("h2",{attrs:{id:"实际工作中-进行过哪些-vue-优化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#实际工作中-进行过哪些-vue-优化"}},[t._v("#")]),t._v(" 实际工作中，进行过哪些 vue 优化")]),t._v(" "),s("ol",[s("li",[t._v("v-if 和 v-show：大部分情况使用 v-if 更好，不要过度优化")]),t._v(" "),s("li",[t._v("v-for 使用 :key")]),t._v(" "),s("li",[t._v("使用 computed 缓存。比如缓存未读消息。应用场景：组件数据比较大，计算比较繁琐，可以用 computed 进行数据的缓存")]),t._v(" "),s("li",[t._v("keep-alive 缓存组件：比如像频繁切换的组件比如 tabs，如果用 v-if 会销毁创建。")]),t._v(" "),s("li",[t._v("异步组件：针对比较大的组件，如编辑器，复杂表格，复杂表单等。进行拆包，需要时异步加载，不需要时不加载。减少主包体积，首屏加载也会变快")]),t._v(" "),s("li",[t._v("路由懒加载。项目比较大进行路由拆分，保证首屏先加载")]),t._v(" "),s("li",[t._v("服务端渲染 使用 nuxt.js. 按需优化，成本比较高")])]),t._v(" "),s("h2",{attrs:{id:"使用-vue-遇到过的坑"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用-vue-遇到过的坑"}},[t._v("#")]),t._v(" 使用 vue 遇到过的坑")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("内存泄漏：一些系统泡着跑着就很慢。因为组件全局变量，自定义事件绑定没有解绑")])]),t._v(" "),s("li",[s("p",[t._v("vue 响应式缺陷")]),t._v(" "),s("ul",[s("li",[t._v("新增 data 属性用 Vue.set")]),t._v(" "),s("li",[t._v("data 删除属性用 Vue.delete")]),t._v(" "),s("li",[t._v("无法直接修改数据 `arr[index] = valu3.")])])]),t._v(" "),s("li",[s("p",[t._v("路由切换 scroll 到顶部。是 spa 的通病，不仅仅是 vue。")]),t._v(" "),s("ul",[s("li",[t._v("列表页，滚动到第二屏，点击进入详情页，再返回列表页（此时组件重新渲染）就 scroll 到顶部")])])])]),t._v(" "),s("p",[t._v("解决：缓存列表页数据和 scrollTop 值。切换路由就是组件的销毁和渲染。")]),t._v(" "),s("h2",{attrs:{id:"如何统一监听-vue-组件报错"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#如何统一监听-vue-组件报错"}},[t._v("#")]),t._v(" 如何统一监听 Vue 组件报错")]),t._v(" "),s("p",[t._v("日常工作中除了开发打包上线，最基本的要求，我们后续还需要考略运维，监控，性能优化等等。不是做完就完事，还要考虑怎么迭代升级重构。")]),t._v(" "),s("p",[t._v("处理报错 处理统计，处理运维，不能光考虑开发")]),t._v(" "),s("p",[t._v("window.error 全局监听 js 错误，识别不了 vue 组件信息。")]),t._v(" "),s("p",[t._v("errorCaptured 生命周期函数，返回 false 会阻止向上传播")]),t._v(" "),s("p",[t._v("errorHandler 在 main.js 中配置")]),t._v(" "),s("div",{staticClass:"language-JS line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("config"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("errorHadler")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("h2",{attrs:{id:"如果-h5-运行很慢-如何排查性能问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#如果-h5-运行很慢-如何排查性能问题"}},[t._v("#")]),t._v(" 如果 H5 运行很慢，如何排查性能问题？")]),t._v(" "),s("p",[t._v("当时，我在 cosera 学习了前端性能优化课程，学习到通过 lighthouse 工具进行排查")]),t._v(" "),s("h2",{attrs:{id:"项目中遇到那些难点-是怎么解决的"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#项目中遇到那些难点-是怎么解决的"}},[t._v("#")]),t._v(" 项目中遇到那些难点？是怎么解决的？")]),t._v(" "),s("ol",[s("li",[t._v("遇到问题进行积累")]),t._v(" "),s("li",[t._v("遇到问题记录一下，写文章复盘一下。我会复现场景，解决方案。")])]),t._v(" "),s("p",[t._v("如何将动态图表输出为视频")]),t._v(" "),s("p",[t._v("描述问题：背景+现象+造成的影响")]),t._v(" "),s("ol",[s("li",[t._v("上线登录服务器密码之后，通过 amis 文档上线报错。结果的 linux 服务需要重启，通过 linux 进行重启。")])]),t._v(" "),s("p",[t._v("问题：编辑器只能回显 JSON 格式，不支持老版本的 html 格式\n解决：使用 html 属性表示 JSON 数据，即可解决这个问题\n成长：要考略完整的输入输出+ 考略旧版本的用户 +参考其他产品")]),t._v(" "),s("h2",{attrs:{id:"项目中有没有发生过沟通的冲突-和其他角色-如何解决的"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#项目中有没有发生过沟通的冲突-和其他角色-如何解决的"}},[t._v("#")]),t._v(" 项目中有没有发生过沟通的冲突（和其他角色）？如何解决的")]),t._v(" "),s("p",[t._v("需求变更：PM 或者老板提出了新的需求\n时间延期：上游或者自己延期了\n技术方案冲突：如感觉服务端给的接口格式不合理")]),t._v(" "),s("p",[t._v("正视冲突\n从个人心理上，不要看到冲突就心烦，要拥抱变化，正视冲突。冲突是项目的一部分，就像 bug 一样，心烦没用。例如，PM 过来说要修改需求，你应该回答：“可以呀，你组织个会议讨论一下吧，拉上各位领导，因为有可能会影响工期。”再例如，自己开发过程中发现可能会有延期，要及早的汇报给领导：“我的工期有风险，因为 xxx 原因，不过我会尽量保证按期完成。”千万不要不好意思，等延期了被领导发现了，这就不好了。")]),t._v(" "),s("p",[t._v("解决冲突\n合作引起的冲突，最终还是要通过沟通来解决。一些不影响需求和工期的冲突，如技术方案问题，尽量私下沟通解决。实在解决不了再来领导开会。需求变更和时间延期一定要开会解决，会议要有各个角色决定权的领导去参与。注意，无论是私下沟通还是开会，涉及到自己工作内容变动的，一定要有结论。最常见的就是发邮件，一定要抄送给各位相关的负责人。这些事情要公开，有记录，不要自己偷偷的就改了。")]),t._v(" "),s("p",[t._v("如何规避冲突\n预估工期留有余地定期汇报个人工作进度，提前识别风险")])])}),[],!1,null,null,null);s.default=_.exports},835:function(t,s,a){t.exports=a.p+"assets/img/1.2bf5eeb3.png"},836:function(t,s,a){t.exports=a.p+"assets/img/2.56a7ba57.png"},837:function(t,s,a){t.exports=a.p+"assets/img/3.a7ec452d.png"}}]);