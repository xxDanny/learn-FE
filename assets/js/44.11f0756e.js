(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{1121:function(s,t,a){"use strict";a.r(t);var n=a(3),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"vue-é…ç½®-jest"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vue-é…ç½®-jest"}},[s._v("#")]),s._v(" VUE é…ç½® Jest")]),s._v(" "),t("h2",{attrs:{id:"æ­¥éª¤"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ­¥éª¤"}},[s._v("#")]),s._v(" æ­¥éª¤")]),s._v(" "),t("ol",[t("li",[s._v("å®‰è£…è„šæ‰‹æ¶å·¥å…· 3.8.4")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("npm install vue-cli@3.8.4 -g\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ol",{attrs:{start:"2"}},[t("li",[s._v("ä½¿ç”¨è„šæ‰‹æ¶å·¥å…·åˆ›å»ºé¡¹ç›®")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("vue create jest-vue\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:a(632),alt:""}})]),s._v(" "),t("ol",{attrs:{start:"3"}},[t("li",[s._v("è¿è¡Œé¡¹ç›®")])]),s._v(" "),t("div",{staticClass:"language-JS line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("npm run serve\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("ğŸ—‚Jest.config.js æ–‡ä»¶æ˜¯å¯¹ JEST çš„ç›¸å…³é…ç½®ï¼Œæ„Ÿå…´è¶£å¯ä»¥å»ğŸ‘‰"),t("a",{attrs:{href:"https://www.jestjs.cn/docs/configuration",target:"_blank",rel:"nofollow noopener noreferrer"}},[s._v("JEST å®˜æ–¹ç½‘ç«™"),t("OutboundLink")],1),s._v(" è¿›è¡ŒæŸ¥çœ‹")]),s._v(" "),t("div",{staticClass:"language-JS line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// node_modules/@vue/cli-plugin-unit-jest/presets/default/jest-preset.js")]),s._v("\nmodule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("moduleFileExtensions")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å¯ä»¥çœç•¥çš„æ¨¡å—æ‰©å±•å")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'jsx'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'json'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// tell Jest to handle *.vue files")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'vue'")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("transform")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ¨¡å—è½¬æ¢å™¨")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// process *.vue files with vue-jest")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v("'^.+\\\\.vue$'")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" require"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'vue-jest'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// .vue æ¨¡å—ä½¿ç”¨ vue-jest è½¬æ¢")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v("'.+\\\\.(css|styl|less|sass|scss|svg|png|jpg|ttf|woff|woff2)$'")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" require"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'jest-transform-stub'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// css ç­‰æ¨¡å—ä½¿ç”¨ jest-transform-stub è½¬æ¢ä¸ºå­—ç¬¦ä¸²")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v("'^.+\\\\.jsx?$'")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" require"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'babel-jest'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// .jsx æ¨¡å—ä½¿ç”¨ babel-jest è½¬æ¢")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("transformIgnorePatterns")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/node_modules/'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ä¸è½¬æ¢ç¬¬ä¸‰æ–¹åŒ…èµ„æºæ¨¡å—")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// support the same @ -> src alias mapping in source code")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ”¯æŒæ¨¡å—åŠ è½½è·¯å¾„ä¸­çš„ @ åˆ«å")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("moduleNameMapper")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v("'^@/(.*)$'")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'<rootDir>/src/$1'")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æµ‹è¯•ç¯å¢ƒï¼ŒJest ä¸­çš„é»˜è®¤ç¯å¢ƒæ˜¯é€šè¿‡ jsdom çš„ç±»ä¼¼äºæµè§ˆå™¨çš„ç¯å¢ƒ")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å¦‚æœè¦æ„å»º node åº”ç”¨ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ node é€‰é¡¹æ¥ä½¿ç”¨ç±»ä¼¼ node çš„ç¯å¢ƒã€‚")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// é€šè¿‡åœ¨æ–‡ä»¶é¡¶éƒ¨æ·»åŠ  @jest-environment docblockï¼Œå¯ä»¥åœ¨è¯¥æ–‡ä»¶ä¸­æŒ‡å®šå¦ä¸€ä¸ªç”¨äºæ‰€æœ‰æµ‹è¯•çš„ç¯å¢ƒ")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("testEnvironment")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'jest-environment-jsdom-fifteen'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// serializer for snapshots")]),s._v("\n\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// åºåˆ—åŒ–å¿«ç…§")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å¯¹ .vue ç»„ä»¶è¿›è¡Œå¿«ç…§æµ‹è¯•ï¼Œå¿«ç…§å­˜å‚¨ä¸ºä¸€ä¸ªæ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹éœ€è¦æ ¼å¼åŒ–ï¼Œè¿™é‡Œä½¿ç”¨ jest-serializer-vue è¿›è¡Œæ ¼å¼åŒ–å¤„ç†")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("snapshotSerializers")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'jest-serializer-vue'")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// è¦æµ‹è¯•çš„æ–‡ä»¶è·¯å¾„")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("testMatch")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'**/tests/unit/**/*.spec.[jt]s?(x)'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'**/__tests__/*.[jt]s?(x)'")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æµ‹è¯•çš„æµè§ˆå™¨ç¯å¢ƒåœ°å€")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// https://github.com/facebook/jest/issues/6766")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("testURL")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'http://localhost/'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ç›‘è§†è¿è¡Œæµ‹è¯•çš„æ’ä»¶å·¥å…·")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("watchPlugins")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// åœ¨ç›‘è§†æ¨¡å¼ä¸‹ï¼Œä¸º p æ–¹å¼ç­›é€‰æ–‡ä»¶æä¾›äº¤äº’å¼é€‰æ‹©æ–‡ä»¶åŠŸèƒ½")]),s._v("\n    require"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'jest-watch-typeahead/filename'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    require"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'jest-watch-typeahead/testname'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br"),t("span",{staticClass:"line-number"},[s._v("49")]),t("br")])]),t("p",[t("img",{attrs:{src:a(633),alt:""}})]),s._v(" "),t("ul",[t("li",[s._v("å½“ Jest åŠ è½½ .vue æˆ– .js æ–‡ä»¶æ—¶ï¼Œä¼šåœ¨æ­£ç¡®çš„è½¬æ¢å™¨ä¸­è¿è¡Œï¼Œå¹¶å°†æ–‡ä»¶è½¬æ¢ä¸ºå¯åœ¨ Node ä¸‹è¿è¡Œçš„ JavaScript ä»£ç ã€‚")]),s._v(" "),t("li",[s._v("Jest é€šè¿‡ vue-jest å’Œ babel-jest ç¼–è¯‘ä¸€ä¸ªç»„ä»¶")])]),s._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"title"},[s._v("eslint æŠ¥é”™")]),t("p",[t("img",{attrs:{src:a(634),alt:""}})]),s._v(" "),t("p",[s._v("è‡ªåŠ¨ä¿®å¤ eslint æŠ¥é”™ä»£ç ")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("npm run lint --fix\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])])])}),[],!1,null,null,null);t.default=e.exports},632:function(s,t,a){s.exports=a.p+"assets/img/img6.2fb1a27f.png"},633:function(s,t,a){s.exports=a.p+"assets/img/img8.3fb3285d.png"},634:function(s,t,a){s.exports=a.p+"assets/img/img12.13bcbb6b.png"}}]);