(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{1022:function(t,i,e){"use strict";e.r(i);var v=e(3),a=Object(v.a)({},(function(){var t=this,i=t._self._c;return i("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[i("h1",{attrs:{id:"fixed-固定定位"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#fixed-固定定位"}},[t._v("#")]),t._v(" fixed 固定定位")]),t._v(" "),i("p",[t._v("固定定位是元素固定于浏览器可视区的位置")]),t._v(" "),i("div",{staticClass:"custom-block tip"},[i("p",{staticClass:"title"},[t._v("MDN")]),i("p",[t._v("元素会被移出正常文档流，并不为元素预留空间，而是通过指定元素相对于屏幕视口（viewport）的位置来指定元素位置。元素的位置在屏幕滚动时不会改变。打印时，元素会出现在的每页的固定位置。fixed 属性会创建新的层叠上下文。当元素祖先的 transform, perspective 或 filter 属性非 none 时，容器由视口改为该祖先。")])]),i("h2",{attrs:{id:"什么是层叠上下文"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#什么是层叠上下文"}},[t._v("#")]),t._v(" 什么是层叠上下文")]),t._v(" "),i("p",[t._v("我们假定用户正面向（浏览器）视窗或网页，而 HTML 元素沿着其相对于用户的一条虚构的 z 轴排开，层叠上下文就是对这些 HTML 元素的一个三维构想。众 HTML 元素基于其元素属性按照优先级顺序占据这个空间。")]),t._v(" "),i("p",[t._v("某些元素的渲染顺序是由其 z-index 的值影响的。这是因为这些元素具有能够使他们形成一个层叠上下文的特殊属性")]),t._v(" "),i("p",[t._v("文档中的层叠上下文由满足以下任意一个条件的元素形成：")]),t._v(" "),i("details",{staticClass:"custom-block details"},[i("summary",[t._v("See More")]),t._v(" "),i("ol",[i("li",[t._v("文档根元素（"),i("code",[t._v("<html>")]),t._v("）；")]),t._v(" "),i("li",[t._v("position 值为 absolute（绝对定位）或 relative（相对定位）且 z-index 值不为 auto 的元素；")]),t._v(" "),i("li",[t._v("position 值为 fixed（固定定位）或 sticky（粘滞定位）的元素（沾滞定位适配所有移动设备上的浏览器，但老的桌面浏览器不支持）；")]),t._v(" "),i("li",[t._v("flex (flex) 容器的子元素，且 z-index 值不为 auto；")]),t._v(" "),i("li",[t._v("grid (grid) 容器的子元素，且 z-index 值不为 auto；")]),t._v(" "),i("li",[t._v("opacity 属性值小于 1 的元素（参见 the specification for opacity）；")]),t._v(" "),i("li",[t._v("mix-blend-mode 属性值不为 normal 的元素；")])])]),t._v(" "),i("p",[t._v("以下任意属性值不为 none 的元素：")]),t._v(" "),i("ol",[i("li",[t._v("transform")]),t._v(" "),i("li",[t._v("filter")]),t._v(" "),i("li",[t._v("backdrop-filter")]),t._v(" "),i("li",[t._v("perspective")]),t._v(" "),i("li",[t._v("clip-path")]),t._v(" "),i("li",[t._v("mask / mask-image / mask-border")]),t._v(" "),i("li",[t._v("isolation 属性值为 isolate 的元素；")]),t._v(" "),i("li",[t._v("will-change 值设定了任一属性而该属性在 non-initial 值时会创建层叠上下文的元素（参考这篇文章）；")]),t._v(" "),i("li",[t._v("contain 属性值为 layout、paint 或包含它们其中之一的合成值（比如 contain: strict、contain: content）的元素")])]),t._v(" "),i("h2",{attrs:{id:"固定定位的特点"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#固定定位的特点"}},[t._v("#")]),t._v(" 固定定位的特点")]),t._v(" "),i("ol",[i("li",[t._v("以浏览器的可视窗口为参照点移动元素。")])]),t._v(" "),i("ul",[i("li",[t._v("跟父元素没有任何关系")]),t._v(" "),i("li",[t._v("不随滚动条滚动。")])]),t._v(" "),i("ol",{attrs:{start:"2"}},[i("li",[t._v("固定定位不在占有原先的位置。\n固定定位也是脱流的，其实固定定位也可以看做是一种特殊的绝对定位")])]),t._v(" "),i("ul",[i("li",[t._v("完全脱标—— 完全不占位置；")]),t._v(" "),i("li",[t._v("只认浏览器的可视窗口 —— 浏览器可视窗口 + 边偏移属性 来设置元素的位置；")])]),t._v(" "),i("h2",{attrs:{id:"常见-bug"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#常见-bug"}},[t._v("#")]),t._v(" 常见 BUG")]),t._v(" "),i("ul",[i("li",[i("p",[t._v("fixed 属性会创建新的层叠上下文。当元素祖先的 transform, perspective 或 filter 属性非 none 时，容器由视口改为该祖先")])]),t._v(" "),i("li",[i("p",[t._v("移动端设置 -webkit-overflow-scrolling 属性时也会出现 fixed 失效")])])]),t._v(" "),i("h3",{attrs:{id:"实例"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#实例"}},[t._v("#")]),t._v(" 实例")]),t._v(" "),i("p",[t._v("这里我们来看 vuepress 下面的一个主题 reco，当开启子侧边栏，会发现子侧边栏的 fixed 不再是相对于 viewport 定位，而是相对于它的父元素 "),i("code",[t._v(".page")]),t._v(" 定位的。")]),t._v(" "),i("p",[i("img",{attrs:{src:e(429),alt:""}})]),t._v(" "),i("p",[t._v("为了验证这一点，我们给父元素 "),i("code",[t._v(".page")]),t._v(" 添加 "),i("code",[t._v("top:100px")]),t._v(" ,使 "),i("code",[t._v(".page")]),t._v(" 向下移动，结果子侧边栏也向下移动了")]),t._v(" "),i("p",[i("img",{attrs:{src:e(430),alt:""}})]),t._v(" "),i("p",[t._v("原因就是因为 "),i("code",[t._v(".page")]),t._v(" 的 transform 属性不为 "),i("code",[t._v("none")]),t._v(",只要我们把 transform 属性设置为 none，就可以让子侧边栏 fixed 生效")]),t._v(" "),i("p",[i("img",{attrs:{src:e(431),alt:""}})]),t._v(" "),i("div",{staticClass:"custom-block tip"},[i("p",{staticClass:"title"},[t._v("参考")]),i("p",[i("a",{attrs:{href:"https://blog.csdn.net/weixin_45811256/article/details/124887875",target:"_blank",rel:"nofollow noopener noreferrer"}},[t._v("解决position：fixed 固定定位失效问题"),i("OutboundLink")],1)])])])}),[],!1,null,null,null);i.default=a.exports},429:function(t,i,e){t.exports=e.p+"assets/img/img1.4c1f1824.png"},430:function(t,i,e){t.exports=e.p+"assets/img/gif1.052cf777.gif"},431:function(t,i,e){t.exports=e.p+"assets/img/gif2.1b89950d.gif"}}]);